<link href="../../../Content/js/plugins/datepicker/bootstrap-datepicker.min.css" rel="stylesheet" />
<link href="../../../Content/js/plugins/datepicker/bootstrap-datepicker.css" rel="stylesheet" />
<div class="row" ng-controller="RevisionController">
    <div class="ibox float-e-margins">
        <div class="ibox-title" style="background-color:rgb(47, 64, 80);color:white">
            <h5>Revisión </h5>
            <div class="ibox-tools">
                <a class="collapse-link">
                    <i class="fa fa-chevron-up"></i>
                </a>
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    <i class="fa fa-wrench"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li>
                        <a href="#">Config option 1</a>
                    </li>
                    <li>
                        <a href="#">Config option 2</a>
                    </li>
                </ul>
                <a class="close-link">
                    <i class="fa fa-times"></i>
                </a>
            </div>
        </div>
        <div class="ibox-content">
            <div class="row">
                <div id="pubstable" class="col-sm-12 b-r">
                    <h1 class="m-t-none m-b">Revisión de Calificaciones</h1>
                    <hr />
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Codigo Asignatura</th>
                                <th>Nombre Asignatura</th>
                                <th>Calificación Obtenida</th>
                                <th>Profesor</th>
                                <th>

                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="r in pubs">
                                <td>{{r.materiaCodigo}}</td>
                                <td>{{r.materianame}}</td>
                                <td>{{r.nota}}</td>
                                <td>{{r.profesor}}</td>
                                <td style="vertical-align:middle" width="auto">
                                    <a ng-if="r.agendada=='404'" ng-click="initRevision(r)" style="margin-top:10px" class="btn btn-primary btn-rounded btn-block ng-scope">
                                        SOLICITAR REVISIÓN
                                    </a>
                                    <a ng-if="r.agendada=='EnEspera'" disabled style="margin-top:10px" class="btn btn-success btn-rounded btn-block ng-scope">
                                        SOLICITADA
                                    </a>
                                    <a ng-if="r.agendada=='Citada'" disabled style="margin-top:10px" class="btn btn-warning btn-rounded btn-block ng-scope">
                                        AGENDADA
                                    </a>
                                    
                                    <a ng-if="r.agendada=='NoAprobadaProfesor'" disabled style="margin-top:10px" class="btn btn-danger btn-rounded btn-block ng-scope">
                                        NO APROVADA POR EL PROFESOR
                                    </a>
                                    <a ng-if="r.agendada=='Procede'" disabled style="margin-top:10px" class="btn btn-success btn-rounded btn-block ng-scope">
                                        Procede
                                    </a>
                                </td>
                                <td>
                                    <a ng-if="r.agendada!='404'" ng-click="getRevisionDetails(r)" style="margin-top:10px" class="btn btn-primary btn-rounded btn-block ng-scope">
                                        DETALLES
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="solForm" hidden class="col-sm-12 b-r">
                    <h1 class="m-t-none m-b">
                        Solicitud de Revisión
                    </h1>
                    <hr />
                    <h3>
                        Materia: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">{{solData.materiaCodigo}}&nbsp;&nbsp;{{solData.materianame}}</span>
                    </h3>
                    <h3>
                        Profesor: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">{{solData.profesor}}</span>
                    </h3>
                    <h3>
                        Fecha Solicitud:  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">{{solData.date | date:'dd/mm/yyyy'}}</span>
                    </h3>

                    <h3 ng-if="fechaReunion">
                        Fecha Reunion:  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">{{solicitud.fechaReunion | date:'hh:mm'}}</span>
                    </h3>

                    <hr />
                    <style>
                        .noPadding {
                            padding: 0;
                        }
                    </style>
                    <form role="form">
                        <div class="form-group">
                            <label>Motivo Solicitud</label>
                            <textarea id="solMotivo" ng-model="solicitud.motivo" type="text" placeholder="Motivo Solicitud" class="form-control"></textarea>
                        </div>
                        <hr />
                        <div ng-if="comentariosProfesor" class="form-group">
                            <label>Comentarios Profesor</label>
                            <textarea disabled ng-model="solicitud.comentarioProfe" type="text" placeholder="Motivo Solicitud" class="form-control"></textarea>
                        </div>
                        <hr />
                        <div ng-if="comentariosAdmin" class="form-group">
                            <label>Comentarios &Aacute;rea</label>
                            <textarea disabled ng-model="solicitud.comentarioAdmin" type="text" placeholder="Motivo Solicitud" class="form-control"></textarea>
                        </div>
                        <div>
                            <button ng-click="goBack()" class="btn btn-sm btn-danger btn-outline pull-left m-t-n-xs" type="submit"><strong><i class="fa fa-arrow-circle-left"></i>&nbsp; Retroceder</strong></button>
                            <button ng-click="Registrar()" class="btn btn-sm btn-primary pull-right m-t-n-xs" id="solicitudBtn" type="submit"><strong>Solicitar Revisión</strong></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../../../Content/js/plugins/datepicker/bootstrap-datepicker.min.js"></script>
<script type="text/javascript">
    $('#DateBirth').datepicker({});
</script>
