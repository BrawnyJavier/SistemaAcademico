<link href="../../../Content/js/plugins/datepicker/bootstrap-datepicker.min.css" rel="stylesheet" />
<link href="../../../Content/js/plugins/datepicker/bootstrap-datepicker.css" rel="stylesheet" />
<link href="../../../Content/css/plugins/clockpicker/clockpicker.css" rel="stylesheet" />
<script src="../../../Content/jquery-ui.min.js"></script>
<script src="../../../Content/js/plugins/clockpicker/clockpicker.js"></script>
<div class="row" ng-controller="RevisionesProfesoresController">
    <div class="ibox float-e-margins">
        <div class="ibox-title" style="background-color:rgb(47, 64, 80);color:white">
            <h5>Preseleccion </h5>
            <div class="ibox-tools">
                <a class="collapse-link">
                    <i class="fa fa-chevron-up"></i>
                </a>
                <a class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-wrench"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li>
                        <a href="#">Config option 1</a>
                    </li>
                    <li>
                        <a href="#">Config option 2</a>
                    </li>
                </ul>
                <a class="close-link">
                    <i class="fa fa-times"></i>
                </a>
            </div>
        </div>
        <div class="ibox-content">
            <div class="row">
                <div class="col-sm-12 b-r">
                    <h1 class="m-t-none m-b">Solicitudes de Revisión</h1>
                    <hr />
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Estudiante</th>
                                <th>Fecha Solicitud</th>
                                <th>Secci&oacute;n</th>
                                <th>Asignatura</th>
                                <th>Calificacion Publicada</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="r in TeacherSections">
                                <td style="vertical-align:middle" width="auto">{{r.userID}}</td>
                                <td style="vertical-align:middle" width="auto">{{r.estudiante}}</td>
                                <td style="vertical-align:middle" width="auto">{{r.fechaSolicitud | date:'dd/MMMM/yyyy'}}</td>
                                <td style="vertical-align:middle" width="auto">{{r.seccion}}</td>
                                <td style="vertical-align:middle" width="auto">{{r.asignatura}}</td>
                                <td style="vertical-align:middle" width="auto">{{r.calif}}</td>
                                <td>
                                    <a data-toggle="modal" ng-click="setModal(r)" data-target="#myModal5" style="margin-top:10px" class="btn btn-success pull-right btn-rounded ng-scope">
                                        Detalles
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- modals -->
    <div class="modal inmodal fade" id="myModal5" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Solicitud de Revisi&oacute;n de Calificaciones Finales</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-8" style="padding:0">
                            <form role="form">
                                <div class="form-group"><label>ID Estudiante</label> <input disabled ng-model="modalData.userID" type="text" placeholder="Nombre" class="form-control"></div>
                                <div class="form-group"><label>Nombre</label> <input disabled ng-model="modalData.estudiante" type="text" placeholder="Nombre" class="form-control"></div>
                                <div class="form-group"><label>Segundo Nombre</label> <input disabled ng-model="modalData.fechaSolicitud" type="text" placeholder="Segundo Nombre" class="form-control"></div>
                            </form>
                        </div>
                        <div class="col-lg-4">
                            <img class="img-responsive" src="{{modalData.userPic}}" />
                        </div>
                        <hr />
                        <div class="col-lg-12" style="padding:0">
                            <div class="form-group"><label>Motivo Solicitud</label> <textarea rows="8" disabled ng-model="modalData.motivo" type="text" placeholder="Segundo Nombre" class="form-control"></textarea></div>
                            <div class="col-lg-6">
                                <button type="button" class="btn btn-w-m btn-primary btn-block" data-dismiss="modal" data-toggle="modal" data-target="#Citas">Aceptar Solicitud</button>
                            </div>
                            <div class="col-lg-6">
                                <button type="button" ng-click="denegate()" data-dismiss="modal" class="btn btn-w-m btn-danger btn-block">Denegar</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modals -->
    <div class="modal inmodal fade" id="Citas" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Solicitud de Revisi&oacute;n de Calificaciones Finales</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="col-lg-6">
                                <div class="widget yellow-bg p-lg text-center" style="cursor:pointer" data-dismiss="modal" data-toggle="modal" data-target="#Agendar">
                                    <div class="m-b-md">
                                        <i class="fa fa-calendar-o fa-4x"></i>
                                        <h1 class="m-xs" style="font-weight:600">Agendar Cita</h1>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="widget navy-bg p-lg text-center" style="cursor:pointer" data-dismiss="modal" ng-click="changeCalif()">
                                    <div class="m-b-md">
                                        <i class="fa fa-chain-broken fa-4x"></i>
                                        <h1 class="m-xs" style="font-weight:600">Cambiar Calificaci&oacute;n</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modals -->
    <div class="modal inmodal fade" id="Agendar" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Agendar Cita Revisi&oacute;n</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <form role="form">
                                <div class="form-group">
                                    <h2>Estudiante</h2>
                                    <hr />
                                    <h3>(ID: {{modalData.userID}}) {{modalData.estudiante}}</h3>
                                </div>
                                <div class="form-group">
                                    <label>Fecha</label>
                                    <input type="text" id="Fecha" placeholder="Fecha" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Hora</label>
                                    <div class="input-group clockpicker">
                                        <input id="FechaFin" type="text" class="form-control" value="18:00">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-time"></span>
                                        </span>
                                    </div>
                                    <script type="text/javascript">
                                        $('.clockpicker').clockpicker({
                                            placement: 'top',
                                            align: 'left',
                                            donetext: 'Elegir'
                                        });
                                    </script>
                                </div>
                                <div class="form-group">
                                    <label>Comentarios</label>
                                    <textarea ng-model="cita.comentarios" type="text" placeholder="Comentarios" class="form-control">
                                    </textarea>
                                </div>
                            </form>
                            <button ng-click="agendar()" type="button" class="btn btn-primary pull-right" data-dismiss="modal">Agendar</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../../../Content/js/plugins/datepicker/bootstrap-datepicker.min.js"></script>
<script type="text/javascript">
    $('#Fecha').datepicker({});
</script>
